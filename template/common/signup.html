{% extends 'core\authBase.html' %}


{% block title%}
{{ block.super }}-SignUp
{% endblock title%}

{% block content%}

<div class="card">
    <div class="card-body register-card-body">
        <p class="login-box-msg">Register a new membership(#A#a#123#)</p>



        <form action="" method="POST">
            {% csrf_token %}
            <div class="input-group mb-3">
                {{form.first_name}}
                <div class="input-group-append">
                    <div class="input-group-text">
                        <span class="fas fa-user"></span>
                    </div>
                </div>
            </div>
            <div class="input-group mb-3">
                {{form.last_name}}
                <div class="input-group-append">
                    <div class="input-group-text">
                        <span class="fas fa-user"></span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <!-- checkbox -->
                    <div class="form-group clearfix">
                        <div class="icheck-success d-inline">
                            <input type="checkbox" id="checkboxSuccess1" class="chk" name="is_student">
                            <label for="checkboxSuccess1">Student</label>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <!-- radio -->
                    <div class="form-group clearfix">
                        <div class="icheck-success d-inline">
                            <input type="checkbox" id="checkboxSuccess2" class="chk" name="is_teacher">
                            <label for="checkboxSuccess2">Teacher</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="input-group mb-3">
                {{form.enrollment}}
                <div class="input-group-append">
                    <div class="input-group-text">
                        <span class="fas fa-user"></span>
                    </div>
                </div>
            </div>
            <div class="input-group mb-3">
                {{form.email}}
                <div class="input-group-append">
                    <div class="input-group-text">
                        <span class="fas fa-envelope"></span>
                    </div>
                </div>
            </div>
            <div class="input-group mb-3">


                {{form.dept}}

                <div class="input-group-append">
                    <div class="input-group-text">
                        <span class="fas fa-envelope"></span>
                    </div>
                </div>
            </div>
            <div class="input-group mb-3">
                {{form.year}}

                <div class="input-group-append">
                    <div class="input-group-text">
                        <span class="fas fa-envelope"></span>
                    </div>
                </div>
            </div>
            <div class="input-group mb-3">
                {{form.semester}}

                <div class="input-group-append">
                    <div class="input-group-text">
                        <span class="fas fa-envelope"></span>
                    </div>
                </div>
            </div>
            <div class="input-group mb-3">
                {{form.username}}
                <div class="input-group-append">
                    <div class="input-group-text">
                        <span class="fas fa-envelope"></span>
                    </div>
                </div>
            </div>
            <div class="input-group mb-3">
                {{form.password1}}

                <div class="input-group-append">
                    <div class="input-group-text">
                        <span class="fas fa-lock"></span>
                    </div>
                </div>
            </div>
            <div class="input-group mb-3">
                {{form.password2}}
                <div class="input-group-append">
                    <div class="input-group-text">
                        <span class="fas fa-lock"></span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <button type="submit" class="btn btn-primary btn-block">
                        Register
                    </button>
                </div>
            </div>
        </form>

        <a href="{% url 'signin' %}" class="text-center">I already have a membership</a>
    </div>
</div>
{% endblock content%}


{% block script%}
<script>
    /* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
      //We start indexing at one because CSRF_token is considered and input field
       */

    //Query All input fields
    // var form_fields = document.getElementsByTagName('input')
    // form_fields[1].placeholder = 'Username..';
    // form_fields[2].placeholder = 'Email..';
    // form_fields[3].placeholder = 'Enter password...';
    // form_fields[4].placeholder = 'Re-enter Password...';


    // for (var field in form_fields) {
    //     form_fields[field].className += ' form-control'
    // }

</script>
<script>
    $(".chk").change(function () {
        $(".chk").prop('checked', false);
        $(this).prop('checked', true);
    });

    var checkbox_required = $('input[type="checkbox"]');

    checkbox_required.prop('required', true);

    checkbox_required.on('click', function () {
        if (checkbox_required.is(':checked')) {
            checkbox_required.prop('required', false);
        } else {
            checkbox_required.prop('required', true);
        }
    });
</script>



{% endblock script%}